---
title: "Strategy to Launch"
---

```{r global_options, include=FALSE}
library(knitr)
library(tidyverse)
library(colorspace)
library(cowplot)
library(dplyr)
opts_chunk$set(fig.align="center", fig.height=4, fig.width=5.5)
```

Load the data from STL reporting and DPG reporting and compare
```{r message = FALSE}
STL_spend <- read_csv("data\\STL_funding_levels_no_formatting.csv"
  # , col_types = cols("Roadmap amounts (000's)" = col_double())
  )
STL_spend
unique(STL_spend$"Roadmap_amounts")

colnames(STL_spend)
```

```{r message = FALSE}
colnames(STL_spend)

scaleFactor <- max(STL_spend$Roadmap_projects) / max(STL_spend$Roadmap_amounts)

ggplot(STL_spend, aes(x = FY)) +
  geom_line(aes(y = Roadmap_projects * 500, group = 1), color = "blue", size = 1.7) +
  geom_point(aes(y = Roadmap_projects * 500), size = 2, color = "blue") +
  geom_col(aes(y = Roadmap_amounts, label = Roadmap_amounts), fill = "steelblue", alpha = 0.8) +
  scale_y_continuous(name = "$ (000's)", sec.axis=sec_axis(~./500, name="# projects")) +
  theme_bw() +
  theme(panel.grid.minor = element_blank())

+
  geom_text(aes(label = Roadmap_amounts))


# next set text on columns with geom_text() and set left y-axis labels to be more readable


# examine columns; plot over time
STL_spend |> ggplot(aes(FY)) + 
  geom_point(aes(y = Roadmap_projects * 500, group = FY)) +
  geom_col(aes(y = Roadmap_amounts)) +  
  scale_y_continuous(sec.axis = sec_axis(~. *500)) 
```


```{r message = FALSE}

ggplot(STL_spend, aes(FY, Self_projects)) + geom_line()

```


```{r message = FALSE}
unique(STL_spend$"Roadmap amounts (000's)")

ggplot(STL_spend, aes_strin(FY, "Total (000's)")) +
  geom_point() +
  geom_line() +
  geom_text(aes(label = "Total (000's)", vjust = -0.5))

colnames(STL_spend)
STL_spend
colnames(mtcars)
ggplot(mtcars, aes(y = cyl)) + geom_bar()
```


```{r message = FALSE}
# ylim(0, 200000)

ggplot(STL_spend, aes(x = FY, y = "Total (000's)", group = "Total (000's)")) +
  geom_point() +
  geom_line()
```


```{r message = FALSE}
```
---
It looks like the differences in the datasets are not too disparate; attributing
most of this too snapshot in time, whether before or after a key decision; 
trends are the same.  Will use DPG data to have less friction in future discussions.
---